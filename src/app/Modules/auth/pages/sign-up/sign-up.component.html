<div class="flex">
  <div class="w-1/2 max-md:hidden">
    <img src="assets/images/sign-up.png" alt="" class="w-full h-full" />
  </div>
  <div
    class="w-1/2 pt-[52px] pb-[53px] flex justify-center max-md:w-full max-md:p-[24px]"
  >
    <form
      [formGroup]="form"
      class="font-inter w-[370px] max-md:w-[300px]"
      (submit)="signUp()"
    >
      <h4 class="text-[24px] font-bold text-blue">
        {{ "signup.title" | translate }}
      </h4>
      <p class="text-gray-300 text-[14px] font-[500] mt-[15px]">
        {{ "signup.subtitle" | translate }}
      </p>

      <div class="flex flex-col mt-[36px] gap-[24px]">
        <!-- Name -->
        <div class="flex flex-col gap-[10px] relative">
          <label for="name" class="text-[12px] text-gray font-[500]">
            {{ "signup.labels.name" | translate }}
          </label>
          <input
            maxlength="40"
            type="text"
            id="name"
            [formControl]="form.controls.name"
            class="outline-none border border-border rounded-[8px] text-blue text-[14px] font-[400] pl-[20px] h-[48px]"
          />
          @if (form.controls.name.invalid && form.controls.name.touched) { @if
          (form.controls.name.errors?.['required']) {
          <span class="text-error text-[12px] absolute bottom-[-20px]">
            {{ "signup.errors.nameRequired" | translate }}
          </span>
          } @if (form.controls.name.errors?.['minlength']) {
          <span class="text-error text-[12px] absolute bottom-[-20px]">
            {{ "signup.errors.nameMinLength" | translate }}
          </span>
          } }
        </div>

        <!-- Mobile -->
        <div class="flex flex-col gap-[10px] relative">
          <label for="num" class="text-[12px] text-gray font-[500]">
            {{ "signup.labels.mobile" | translate }}
          </label>
          <input
            type="tel"
            pattern="[0-9]*"
            inputmode="numeric"
            id="num"
            [formControl]="form.controls.mobile"
            class="outline-none border border-border rounded-[8px] text-blue text-[14px] font-[400] pl-[20px] h-[48px]"
            maxlength="15"
          />
          @if (form.controls.mobile.invalid && form.controls.mobile.touched) {
          @if (form.controls.mobile.errors?.['required']) {
          <span class="text-error text-[12px] absolute bottom-[-20px]">
            {{ "signup.errors.mobileRequired" | translate }}
          </span>
          } @if (form.controls.mobile.errors?.['minlength'] ||
          form.controls.mobile.errors?.['pattern']) {
          <span class="text-error text-[12px] absolute bottom-[-20px]">
            {{ "signup.errors.mobileInvalid" | translate }}
          </span>
          } }
        </div>

        <!-- Email -->
        <div class="flex flex-col gap-[10px] relative">
          <label for="email" class="text-[12px] text-gray font-[500]">
            {{ "signup.labels.email" | translate }}
          </label>
          <input
            maxlength="40"
            type="email"
            id="email"
            [formControl]="form.controls.email"
            class="outline-none border border-border rounded-[8px] text-blue text-[14px] font-[400] pl-[20px] h-[48px]"
          />
          @if (form.controls.email.invalid && form.controls.email.touched) { @if
          (form.controls.email.errors?.['required']) {
          <span class="text-error text-[12px] absolute bottom-[-20px]">
            {{ "signup.errors.emailRequired" | translate }}
          </span>
          } @if (form.controls.email.errors?.['email'] ||
          form.controls.email.errors?.['minlength']) {
          <span class="text-error text-[12px] absolute bottom-[-20px]">
            {{ "signup.errors.emailInvalid" | translate }}
          </span>
          } }
        </div>

        <!-- Passwords -->
        <div class="flex flex-col gap-[35px]" formGroupName="passwords">
          <div class="flex flex-col gap-[10px] relative">
            <label class="text-[12px] text-gray font-[500]">
              {{ "signup.labels.createPassword" | translate }}
            </label>
            <p-password
              [toggleMask]="true"
              [feedback]="false"
              formControlName="create"
            ></p-password>
            @if (form.controls.passwords.get('create')?.invalid &&
            form.controls.passwords.get('create')?.touched) { @if
            (form.controls.passwords.get('create')?.errors?.['required']) {
            <span class="text-error text-[12px] absolute bottom-[-20px]">
              {{ "signup.errors.createPasswordRequired" | translate }}
            </span>
            } @if (form.controls.passwords.get('create')?.errors?.['minlength']
            || form.controls.passwords.get('create')?.errors?.['pattern']) {
            <span
              class="text-error text-[12px] absolute bottom-[-35px] max-md:leading-[1]"
            >
              {{ "signup.errors.createPasswordInvalid" | translate }}
            </span>
            } }
          </div>
          <div class="flex flex-col gap-[10px] relative">
            <label class="text-[12px] text-gray font-[500]">
              {{ "signup.labels.confirmPassword" | translate }}
            </label>
            <p-password
              [toggleMask]="true"
              [feedback]="false"
              formControlName="confirm"
            ></p-password>
            @if (form.controls.passwords.get('confirm')?.invalid &&
            form.controls.passwords.get('confirm')?.touched &&
            form.controls.passwords.get('create')?.errors?.['required'] ||
            form.controls.passwords.errors?.['check']) {
            <span class="text-error text-[12px] absolute bottom-[-20px]">
              {{ "signup.errors.passwordsDoNotMatch" | translate }}
            </span>
            }
          </div>
        </div>
      </div>

      <div class="relative">
        <button
          type="submit"
          class="mt-[28px] bg-purple rounded-[8px] text-[14px] font-[600] text-white h-[48px] w-full"
          label="show"
        >
          {{ "signup.buttons.createAccount" | translate }}
        </button>
      </div>

      <p class="text-gray text-[14px] font-[400] mt-[24px] text-center">
        {{ "signup.messages.alreadyHaveAccount" | translate }}
        <span>
          <a href="" class="text-purple font-bold" [routerLink]="['/Sign-in']">
            {{ "signup.buttons.signIn" | translate }}
          </a>
        </span>
      </p>

      <div class="flex gap-[12.5px] justify-center items-center mt-[32px]">
        <div class="w-[132px] max-md:w-[97px] h-[1px] bg-border-100"></div>
        <div class="text-gray text-[11px]">
          {{ "signup.messages.orSignUpWith" | translate }}
        </div>
        <div class="w-[132px] max-md:w-[97px] h-[1px] bg-border-100"></div>
      </div>

      <div class="flex gap-[16px] mt-[36px]">
        <button
          class="flex justify-center w-1/2 border border-border h-[48px] items-center rounded-[8px] gap-[8px]"
          type="button"
        >
          <img src="assets/images/Google.png" alt="Google" />
          <a class="text-blue text-[14px]" href="https://www.google.com/">
            {{ "social.google" | translate }}
          </a>
        </button>
        <button
          class="flex justify-center w-1/2 border border-border h-[48px] items-center rounded-[8px] gap-[8px]"
          type="button"
        >
          <img src="assets/images/face.png" alt="Facebook" />
          <a class="text-blue text-[14px]" href="https://www.facebook.com/">
            {{ "social.facebook" | translate }}
          </a>
        </button>
      </div>
    </form>
  </div>
</div>

<p-dialog
  [(visible)]="visible"
  [modal]="true"
  [style]="{ width: '50rem' }"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  (onHide)="goToHomePage()"
>
  <ng-template pTemplate="header">
    <div
      class="text-successfully m-auto text-[30px] font-bold font-inter text-center"
    >
      {{ "signup.messages.successDialogTitle" | translate }}
    </div>
  </ng-template>
</p-dialog>
<p-toast position="top-center" />

